(()=>{function f(e){e.directive("drag",(t,{value:a,modifiers:n,expression:o},{evaluate:s,evaluateLater:r})=>{if(a==="list"&&e.bind(t,{"x-data"(){return{init(){},__isDragging:!1}},"x-on:dragstart"(g){n.includes("prevent"),this.__isDragging=!0},"x-on:dragend"(g){n.includes("prevent"),this.__isDragging=!1}}),a==="list-item"){t.setAttribute("draggable",!0);let g=Math.random().toString(36).substr(2,9);t.setAttribute("data-drag-id",g),t.addEventListener("dragstart",d=>{let i=t.getAttribute("data-drag-id");o&&(i=o);let u="copy";n.includes("move")?u="move":n.includes("link")&&(d="link");let l=JSON.stringify({id:i,effect:u});d.dataTransfer.setData("application/json",l),d.dataTransfer.effectAllowed=u})}}).before("bind"),e.magic("list",t=>{let a=e.$data(t);return{get isDragging(){return a.__isDragging}}}),e.directive("drop",(t,{value:a,expression:n},{evaluate:o,evaluateLater:s})=>{a==="target"&&(e.bind(t,{"x-data"(){return{init(){},__isEntered:!1}},"x-on:dragenter"(r){this.__isEntered=!0},"x-on:dragleave"(r){this.__isEntered=!1},"x-on:drop"(r){this.__isEntered=!1,r.preventDefault(),r.stopPropagation();let g=r.dataTransfer.getData("application/json"),d=JSON.parse(g),i=_;d.effect==="move"&&(i=p),d.effect==="link"&&(i=v),n&&(i=c(n,s)),i("",t,d)}}),t.addEventListener("dragover",r=>{r.preventDefault()}))}).before("bind"),e.magic("droparea",t=>{let a=e.$data(t);return{get isEntered(){return a.__isEntered}}})}function c(e,t){if([void 0,null,""].includes(e))return()=>{};let a=t(e);return(n,o,s)=>{Alpine.dontAutoEvaluateFunctions(()=>{a(r=>{typeof r=="function"&&r(n,o,s)},{scope:{$item:n,$target:o,$data:s}})})}}function p(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`),t.appendChild(e)}function _(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`);let n=e.cloneNode(!0);n.setAttribute("data-drag-id",Math.random().toString(36).substr(2,9)),t.appendChild(n)}function v(e,t,a){}document.addEventListener("alpine:init",()=>window.Alpine.plugin(f));})();
