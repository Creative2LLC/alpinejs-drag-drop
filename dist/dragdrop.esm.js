function u(e){e.directive("drag",(t,{value:a,modifiers:r,expression:o},{evaluate:s,evaluateLater:n})=>{if(a==="list"&&e.bind(t,{"x-data"(){return{init(){},__isDragging:!1}},"x-on:dragstart"(f){r.includes("prevent"),this.__isDragging=!0},"x-on:dragend"(f){r.includes("prevent"),this.__isDragging=!1}}),a==="list-item"){t.setAttribute("draggable",!0);let f=Math.random().toString(36).substr(2,9);t.setAttribute("data-drag-id",f),t.addEventListener("dragstart",d=>{let i=t.getAttribute("data-drag-id");o&&(i=o);let g="copy";r.includes("move")?g="move":r.includes("link")&&(d="link");let l=JSON.stringify({id:i,effect:g});d.dataTransfer.setData("application/json",l),d.dataTransfer.effectAllowed=g})}}).before("bind"),e.magic("list",t=>{let a=e.$data(t);return{get isDragging(){return a.__isDragging}}}),e.directive("drop",(t,{value:a,expression:r},{evaluate:o,evaluateLater:s})=>{a==="target"&&(e.bind(t,{"x-data"(){return{init(){},__isEntered:!1}},"x-on:dragenter"(n){this.__isEntered=!0},"x-on:dragleave"(n){this.__isEntered=!1},"x-on:drop"(n){this.__isEntered=!1,n.preventDefault(),n.stopPropagation();let f=n.dataTransfer.getData("application/json"),d=JSON.parse(f),i=_;d.effect==="move"&&(i=p),d.effect==="link"&&(i=v),r&&(i=c(r,s)),i("",t,d)}}),t.addEventListener("dragover",n=>{n.preventDefault()}))}).before("bind"),e.magic("droparea",t=>{let a=e.$data(t);return{get isEntered(){return a.__isEntered}}})}function c(e,t){if([void 0,null,""].includes(e))return()=>{};let a=t(e);return(r,o,s)=>{Alpine.dontAutoEvaluateFunctions(()=>{a(n=>{typeof n=="function"&&n(r,o,s)},{scope:{$item:r,$target:o,$data:s}})})}}function p(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`),t.appendChild(e)}function _(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`);let r=e.cloneNode(!0);r.setAttribute("data-drag-id",Math.random().toString(36).substr(2,9)),t.appendChild(r)}function v(e,t,a){}var m=u;export{m as default};
