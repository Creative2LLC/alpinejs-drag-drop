function c(e){e.directive("uppercase",t=>{t.textContent=t.textContent.toUpperCase()}),e.directive("drag",(t,{value:a,modifiers:n,expression:o},{evaluate:g,evaluateLater:r})=>{if(a==="list"&&(console.log("list directive",n),e.bind(t,{"x-data"(){return{init(){console.log("init")},__isDragging:!1}},"x-on:dragstart"(s){n.includes("prevent"),this.__isDragging=!0,console.log("isDragging",this.__isDragging)},"x-on:dragend"(s){n.includes("prevent"),this.__isDragging=!1,console.log("dragleave event",this.__isDragging)}})),a==="list-item"){t.setAttribute("draggable",!0);let s=Math.random().toString(36).substr(2,9);t.setAttribute("data-drag-id",s),t.addEventListener("dragstart",i=>{let d=t.getAttribute("data-drag-id");o&&(d=o),console.log("dragstart event",d);let l="copy";n.includes("move")?l="move":n.includes("link")&&(i="link");let f=JSON.stringify({id:d,effect:l});i.dataTransfer.setData("application/json",f),i.dataTransfer.effectAllowed=l})}}).before("bind"),e.magic("list",t=>{let a=e.$data(t);return{get isDragging(){return console.log("isDragging",a.__isDragging),a.__isDragging}}}),e.directive("drop",(t,{value:a,expression:n},{evaluate:o,evaluateLater:g})=>{a==="target"&&(e.bind(t,{"x-data"(){return{init(){console.log("init drop")},__isEntered:!1}},"x-on:dragenter"(r){this.__isEntered=!0,console.log("dragenter event",this.__isEntered)},"x-on:dragleave"(r){this.__isEntered=!1,console.log("dragleave event",this.__isEntered)},"x-on:drop"(r){this.__isEntered=!1,r.preventDefault(),r.stopPropagation();let s=r.dataTransfer.getData("application/json"),i=JSON.parse(s);console.log("drop event",i);let d=p;i.effect==="move"&&(d=v),i.effect==="link"&&(d=h),n&&(d=_(n,g)),d("",t,i)}}),t.addEventListener("dragover",r=>{r.preventDefault()}))}).before("bind"),e.magic("droparea",t=>{let a=e.$data(t);return{get isEntered(){return a.__isEntered}}})}function _(e,t){if([void 0,null,""].includes(e))return()=>{};let a=t(e);return(n,o,g)=>{Alpine.dontAutoEvaluateFunctions(()=>{a(r=>{typeof r=="function"&&r(n,o,g)},{scope:{$item:n,$target:o,$data:g}})})}}function v(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`),t.appendChild(e)}function p(e,t,a){e=document.querySelector(`[data-drag-id='${a.id}']`),console.log("item",e);let n=e.cloneNode(!0);n.setAttribute("data-drag-id",Math.random().toString(36).substr(2,9)),t.appendChild(n)}function h(e,t,a){console.log("link")}var E=c;export{E as default};
